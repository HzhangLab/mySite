# C_language 学习笔记空间
# C语言：函数式宏 和 函数 的区别
## 定义：
函数式宏：
```
#define MAX(a, b) ((a) > (b) ? (a) : (b))
```
函数：
```
int max(int a, int b) {
    return a > b ? a : b;
}
```

## 区别：
- 宏是做简单的字符串替换， 而函数时参数的传递，**参数是有类型的**
- 宏的参数替换是直接替换，不经过计算，直接进行展开，而函数是编译之后执行时才会调用
- 宏在编译之前进行替换（预处理时进行替换， 宏体位置直接展开），而函数是在编译之后执行是才会调用。
- 宏的参数是不占内存空间的，因为只做字符串的替换，而函数调用时参数之间的传递，所以占用内存。
- 函数调用需要空间开销，因为在函数调用时它既要保存现场又要跳转到另一个函数调用中去执行，然后还要返回现场，但宏函数中就不存在。

## 函数式宏缺点：
- 函数式宏没有独立的作用范围
- 当函数宏过大时，展开会导致代码急剧，导致代码执行效率降低
- 函数宏不会对参数类型进行检查